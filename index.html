<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K38BEWQGTQ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-K38BEWQGTQ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matthewgram</title>

    <style>
        body{text-align: center; background-color: turquoise;color: midnightblue;}
        #banner{top: 0%;}
        #ProfilesEmbed{top: auto; width: 100%;  background-color:rgb(71, 32, 32);color: whitesmoke;}
        #User1{top: auto; width: 100%;background-color: rgb(29, 66, 26);color: yellowgreen;}
        #User2{top: auto; width: 100%;background-color: rgb(29, 66, 26);color: yellowgreen;}
    </style>
</head>
<body>
    <div id="banner"><img src="MathewGramBanner.png" alt="MatthewGram Banner" width=100%></div>
    <div id="ProfilesEmbed">
        <h1>MatthewGram</h1>
        <iframe src="https://thunkable.site/w/IBjJ5f6KPyYJMb1pWUreZ?from=x" title="Profiles App" height=750 width=380></iframe>
        <h4></h4>
    </div>


    <div id="User1">
        <h1>User List</h1>
        <button id="refresh">REFRESH</button>

        <h3 id="findName" type="text"></h3>
        <h3 id="findStatus" type="text"></h3>
        <h3 id="findRating" type="float"></h3>
        <h3 id="findImage" type="png"></h3>
        <h3 id="findComment" type="text"></h3>

    </div>

    <div id="User2">
        <h3 id="findName2" type="text"></h3>
        <h3 id="findStatus2" type="text"></h3>
        <h3 id="findRating2" type="float"></h3>
        <h3 id="findImage2" type="png"></h3>
        <h3 id="findComment2" type="text"></h3>

    </div>


    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyC32GsUuipZ6FzEva1IJlGdZz60KwZ0vS8",
          authDomain: "profileapp-4c6c7.firebaseapp.com",
          databaseURL: "https://profileapp-4c6c7-default-rtdb.firebaseio.com",
          projectId: "profileapp-4c6c7",
          storageBucket: "profileapp-4c6c7.appspot.com",
          messagingSenderId: "872986449438",
          appId: "1:872986449438:web:046b929a7b02d0021f400f"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        
        import{getDatabase, set, get, update, remove, ref, child}
        from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";


        const db = getDatabase();

        //var findID = document.querySelector("#findID");
        var findName = document.querySelector("#findName");
        var findStatus = document.querySelector("#findStatus");
        var findRating = document.querySelector("#findRating");
        var findImage = document.querySelector("#findImage");
        var findComment = document.querySelector("#findComment");

        var findName2 = document.querySelector("#findName2");
        var findStatus2 = document.querySelector("#findStatus2");
        var findRating2 = document.querySelector("#findRating2");
        var findImage2 = document.querySelector("#findImage2");
        var findComment2 = document.querySelector("#findComment2");

        var refreshButton = document.querySelector("#refresh");

        function FindData(){
            const dbref = ref(db);
                get(child(dbref, "dWazvudzFNZSbCTOYJd0uw8YoQN2"))
                .then((snapshot)=>{
                    if(snapshot.exists()){
                        findName.innerHTML = "Name: " + snapshot.val().name;
                        findStatus.innerHTML = "Status: " + snapshot.val().status;
                        findRating.innerHTML = "Rating: " + snapshot.val().rating;
                        findImage.innerHTML = "Image: " + snapshot.val().image;
                        findComment.innerHTML = "Comment: " + snapshot.val().comment;
                    }
                    else{
                        alert("No data found");
                    }
                })
                .catch((error)=>{
                    alert(error);
                });

                get(child(dbref, "worm6c3TECYbwPTVAFlNz9zWhc02"))
                .then((snapshot)=>{
                    if(snapshot.exists()){
                        findName2.innerHTML = "Name: " + snapshot.val().name;
                        findStatus2.innerHTML = "Status: " + snapshot.val().status;
                        findRating2.innerHTML = "Rating: " + snapshot.val().rating;
                        findImage2.innerHTML = "Image: " + snapshot.val().image;
                        findComment2.innerHTML = "Comment: " + snapshot.val().comment;
                    }
                    else{
                        alert("No data found");
                    }
                })
                .catch((error)=>{
                    alert(error);
                });
            }
            FindData();
/*        function FindData(){
            const dbref = ref(db);
            for (x=0, x<2, x++){
                get(child(dbref))
                .then((snapshot)=>{
        
                    if(snapshot.exists()){
                        findName.innerHTML = "Name: " + snapshot.val().name;
                        findStatus.innerHTML = "Status: " + snapshot.val().status;
                        findRating.innerHTML = "Rating: " + snapshot.val().rating;
                        findImage.innerHTML = "Image: " + snapshot.val().image;
                        findComment.innerHTML = "Comment: " + snapshot.val().comment;
                    }
                    else{
                        alert("No data found");
                    }
                })
                .catch((error)=>{
                    alert(error);
                });  
            }
            
        }
  */      
        refreshButton.addEventListener('click', FindData);

      </script>


</body>
</html>
